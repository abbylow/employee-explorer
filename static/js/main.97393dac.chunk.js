(this["webpackJsonpemployee-explorer"]=this["webpackJsonpemployee-explorer"]||[]).push([[0],{4942:function(e,t,a){e.exports=a(4975)},4947:function(e,t,a){},4948:function(e,t,a){},4949:function(e,t,a){},4953:function(e,t,a){},4955:function(e,t,a){},4975:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),i=a.n(c),o=(a(4947),a(24)),s=a(15),l=(a(4948),a(17)),u=(a(4949),a(4990)),m=a(4992),p=a(4991),v=a(22);function d(e){var t=e.history,a=Object(n.useState)(""),c=Object(l.a)(a,2),i=c[0],o=c[1];function s(){t.push("/overview/".concat(i))}return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"title"},r.a.createElement(u.a,{variant:"h2",align:"center"},"Employee Explorer")),r.a.createElement("div",{className:"search-area"},r.a.createElement("div",{className:"search-bar"},r.a.createElement(m.a,{placeholder:"Enter employee name ",disableUnderline:!0,value:i,onChange:function(e){o(e.target.value)},onKeyDown:function(e){13===e.keyCode&&s()},className:"search-input",fullWidth:!0}),r.a.createElement(p.a,{onClick:s},r.a.createElement(v.b,{className:"search-icon"})))))}a(4953);var h=a(20),f=a.n(h),E=a(23),b=(a(4955),a(46));function w(e){return y.apply(this,arguments)}function y(){return(y=Object(E.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("https://api.additivasia.io/api/v1/assignment/employees/".concat(t));case 2:return a=e.sent,e.abrupt("return",{name:t,position:a.data[0],directSubordinates:a.data[1]?a.data[1]["direct-subordinates"]:[]});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){var t=e.name,a=e.shownList,c=e.setShownList,i=Object(n.useState)(""),o=Object(l.a)(i,2),s=o[0],m=o[1],p=Object(n.useState)([]),v=Object(l.a)(p,2),d=v[0],h=v[1];return Object(n.useEffect)((function(){function e(){return(e=Object(E.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:n=e.sent,m(n.position),c((function(e){return e.add(t)})),(r=Array.from(n.directSubordinates)).forEach((function(e,t){a.has(e)&&r.splice(t,1)})),r.forEach((function(e){c((function(t){return t.add(e)}))})),h(r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(t)}),[t,a,c]),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"self-position"},r.a.createElement(u.a,{variant:"h5"},t),r.a.createElement(u.a,{variant:"subtitle1"},s||"No position in this company")),d.map((function(e){return r.a.createElement(N,{name:e,key:e,shownList:a,setShownList:c})})))}var O=function(){var e=Object(s.f)().slug,t=Object(n.useState)(new Set),a=Object(l.a)(t,2),c=a[0],i=a[1];return r.a.createElement("div",{className:"overview"},r.a.createElement("div",{className:"nav-bar"},r.a.createElement(o.b,{to:"/"},r.a.createElement(v.a,{fontSize:"large"}))),r.a.createElement("div",{className:"overview-title"},r.a.createElement(u.a,{variant:"h2"},"Employee Overview ")),r.a.createElement("div",{className:"overview-title"},r.a.createElement(u.a,{variant:"h4"},e," and the subordinates (if any) ")),r.a.createElement("div",{className:"overview-body"},r.a.createElement(N,{name:e,shownList:c,setShownList:i})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement((function(){return r.a.createElement(o.a,{basename:"/employee-explorer"},r.a.createElement("div",{className:"app"},r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:d}),r.a.createElement(s.a,{path:"/overview/:slug"},r.a.createElement(O,null)))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[4942,1,2]]]);
//# sourceMappingURL=main.97393dac.chunk.js.map